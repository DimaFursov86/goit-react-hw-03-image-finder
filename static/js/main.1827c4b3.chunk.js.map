{"version":3,"sources":["components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Modal/Modal.module.scss","App.module.scss","components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Button/Button.module.scss","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","servicesAPI.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/loader.js","App.js","index.js"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","searchbar","this","type","searchButton","style","marginRight","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","id","openModal","largeImageURL","src","alt","onClick","photoCard","ImageGallery","images","gallery","map","index","listItem","serviceAPI","fetchImages","text","page","per_page","API_KEY","fetch","then","response","ok","json","Button","buttonStyle","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","ModalBackdrop","ModalContent","children","Loaders","color","height","width","timeout","Status","App","status","showModal","largeImg","handleFormSubmit","onPageClick","prevState","dataset","source","toggleModal","prevProps","prevName","prevPage","hits","catch","error","scrollTo","top","documentElement","scrollHeight","behavior","box","imgpoz","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1827c4b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3ejqX\",\"searchButton\":\"Searchbar_searchButton__2Rr1G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1Y3nf\",\"listItem\":\"ImageGallery_listItem__3GJ5t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalBackdrop\":\"Modal_ModalBackdrop__1uPBN\",\"ModalContent\":\"Modal_ModalContent__qxUkA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgpoz\":\"App_imgpoz__3XQMT\",\"box\":\"App_box__1wa4a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ImageGalleryItem_listItem__1Z1WT\",\"photoCard\":\"ImageGalleryItem_photoCard__3Qj9O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonStyle\":\"Button_buttonStyle__36mRa\"};","import { Component } from \"react\";\nimport s from \"./Searchbar.module.scss\";\nimport { ImSearch } from \"react-icons/im\";\nimport PropTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  handleNameChange = (event) => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Enter text.\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className={s.searchButton}>\n            <ImSearch style={{ marginRight: 8 }} />\n            {/* <span className=\"SearchForm-button-label\">Search</span> */}\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"imageName\"\n            value={this.state.imageName}\n            onChange={this.handleNameChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import s from \"./ImageGalleryItem.module.scss\";\nimport PropTypes from \"prop-types\";\nexport default function ImageGalleryItem({\n  webformatURL,\n  id,\n  openModal,\n  largeImageURL,\n}) {\n  return (\n    <img\n      src={webformatURL}\n      alt={id}\n      data-source={largeImageURL}\n      onClick={openModal}\n      className={s.photoCard}\n    />\n  );\n}\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.scss\";\nimport PropTypes from \"prop-types\";\nexport default function ImageGallery({ images, openModal }) {\n  return (\n    <ul className={s.gallery}>\n      {images.map(({ webformatURL, id, largeImageURL }, index) => (\n        <li key={index} className={s.listItem}>\n          <ImageGalleryItem\n            id={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            openModal={openModal}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","function fetchImages(\n  text,\n  page = 1,\n  per_page = 12,\n  API_KEY = \"23001140-4461295a2c2bf2ca42afdabe3\"\n) {\n  return fetch(\n    `https://pixabay.com/api/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nconst serviceAPI = { fetchImages };\n\nexport default serviceAPI;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.scss\";\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.buttonStyle} type=\"button\" onClick={onClick}>\n      Load More\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.scss\";\nimport PropTypes from \"prop-types\";\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.ModalBackdrop} onClick={this.handleBackdropClick}>\n        <div className={s.ModalContent}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import Loader from \"react-loader-spinner\";\nimport React, { Component } from \"react\";\nexport default class Loaders extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport serviceAPI from \"../src/servicesAPI\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport s from \"../src/App.module.scss\";\nimport \"modern-normalize/modern-normalize.css\";\nimport Loaders from \"./components/Loader\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    imageName: \"\",\n    page: 1,\n    status: Status.IDLE,\n    showModal: false,\n    largeImg: \"\",\n  };\n\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n  };\n  onPageClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.imageName;\n    const text = this.state.imageName;\n    const prevPage = prevState.page;\n    const page = this.state.page;\n\n    if (prevName !== text) {\n      this.setState({ images: [], page: 1, status: Status.PENDING });\n\n      if (page === 1) {\n        serviceAPI\n          .fetchImages(text, page)\n          .then((images) =>\n            this.setState({\n              images: [...images.hits],\n              status: Status.RESOLVED,\n            })\n          )\n          .catch((error) => this.setState({ error, status: Status.REJECTED }));\n      }\n    }\n    if (prevPage !== page) {\n      this.setState({ status: Status.PENDING });\n\n      serviceAPI\n        .fetchImages(text, page)\n        .then((images) =>\n          this.setState({\n            images: [...this.state.images, ...images.hits],\n            status: Status.RESOLVED,\n          })\n        )\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n  openModal = (e) => {\n    this.setState({ largeImg: e.target.dataset.source });\n    this.toggleModal();\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, status, showModal, largeImg } = this.state;\n\n    return (\n      <div className={s.box}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {status === Status.RESOLVED && (\n          <ImageGallery images={images} openModal={this.openModal} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img className={s.imgpoz} src={largeImg} alt={largeImg} />\n          </Modal>\n        )}\n        {status === Status.PENDING && <Loaders />}\n        {status === Status.REJECTED && <h2>The request failed</h2>}\n        {status === Status.RESOLVED && images.length !== 0 && (\n          <Button onClick={this.onPageClick} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}