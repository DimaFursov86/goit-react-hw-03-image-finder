{"version":3,"sources":["components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Button/Button.module.scss","App.module.scss","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","servicesAPI.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/loader.js","App.js","index.js","components/Modal/Modal.module.scss"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","searchbar","this","type","searchButton","style","marginRight","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","id","openModal","largeImageURL","src","alt","onClick","photoCard","ImageGallery","images","gallery","map","index","listItem","serviceAPI","fetchImages","text","page","per_page","API_KEY","fetch","then","response","ok","json","Button","buttonStyle","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","ModalBackdrop","ModalContent","imgpoz","Loaders","color","height","width","timeout","Status","App","status","showModal","largeImg","handleFormSubmit","onPageClick","prevState","dataset","source","toggleModal","prevProps","prevName","prevPage","imageArr","hits","catch","error","scrollTo","top","document","documentElement","scrollHeight","behavior","box","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1c2c6165.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3ejqX\",\"searchButton\":\"Searchbar_searchButton__2Rr1G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1Y3nf\",\"listItem\":\"ImageGallery_listItem__3GJ5t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ImageGalleryItem_listItem__1Z1WT\",\"photoCard\":\"ImageGalleryItem_photoCard__3Qj9O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonStyle\":\"Button_buttonStyle__36mRa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"App_box__1wa4a\"};","import { Component } from \"react\";\nimport s from \"./Searchbar.module.scss\";\nimport { ImSearch } from \"react-icons/im\";\nimport PropTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  handleNameChange = (event) => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Enter text.\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className={s.searchButton}>\n            <ImSearch style={{ marginRight: 8 }} />\n            {/* <span className=\"SearchForm-button-label\">Search</span> */}\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"imageName\"\n            value={this.state.imageName}\n            onChange={this.handleNameChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import s from \"./ImageGalleryItem.module.scss\";\nimport PropTypes from \"prop-types\";\nexport default function ImageGalleryItem({\n  webformatURL,\n  id,\n  openModal,\n  largeImageURL,\n}) {\n  return (\n    <img\n      src={webformatURL}\n      alt={id}\n      data-source={largeImageURL}\n      onClick={openModal}\n      className={s.photoCard}\n    />\n  );\n}\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  openModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.scss\";\nimport PropTypes from \"prop-types\";\nexport default function ImageGallery({ images, openModal }) {\n  return (\n    <ul className={s.gallery}>\n      {images.map(({ webformatURL, id, largeImageURL }, index) => (\n        <li key={index} className={s.listItem}>\n          <ImageGalleryItem\n            id={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            openModal={openModal}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","function fetchImages(\n  text,\n  page = 1,\n  per_page = 12,\n  API_KEY = \"23001140-4461295a2c2bf2ca42afdabe3\"\n) {\n  return fetch(\n    `https://pixabay.com/api/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nconst serviceAPI = { fetchImages };\n\nexport default serviceAPI;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.scss\";\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.buttonStyle} type=\"button\" onClick={onClick}>\n      Load More\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\n\nimport s from \"./Modal.module.scss\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.ModalBackdrop} onClick={this.handleBackdropClick}>\n        <div className={s.ModalContent}>\n          <img className={s.imgpoz} src={this.props.src} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import Loader from \"react-loader-spinner\";\nimport React, { Component } from \"react\";\nexport default class Loaders extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={1000} //2 secs\n      />\n    );\n  }\n}\n","import { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport serviceAPI from \"../src/servicesAPI\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport s from \"../src/App.module.scss\";\nimport \"modern-normalize/modern-normalize.css\";\nimport Loaders from \"./components/Loader\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    imageName: \"\",\n    page: 1,\n    status: Status.IDLE,\n    showModal: false,\n    largeImg: \"\",\n  };\n\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName });\n  };\n  onPageClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.imageName;\n    const text = this.state.imageName;\n    const prevPage = prevState.page;\n    const page = this.state.page;\n\n    if (prevName !== text) {\n      this.setState({ images: [], page: 1, status: Status.PENDING });\n\n      if (page === 1) {\n        serviceAPI\n          .fetchImages(text, page)\n          .then((images) => {\n            const imageArr = images.hits.map(\n              ({ id, webformatURL, largeImageURL }) => {\n                return {\n                  id,\n                  webformatURL,\n                  largeImageURL,\n                };\n              }\n            );\n\n            this.setState({\n              images: [...imageArr],\n              status: Status.RESOLVED,\n            });\n          })\n          .catch((error) => this.setState({ error, status: Status.REJECTED }));\n      }\n    }\n    if (prevPage !== page) {\n      serviceAPI\n        .fetchImages(text, page)\n        .then((images) => {\n          const imageArr = images.hits.map(\n            ({ id, webformatURL, largeImageURL }) => {\n              return {\n                id,\n                webformatURL,\n                largeImageURL,\n              };\n            }\n          );\n\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...imageArr],\n            status: Status.RESOLVED,\n          }));\n        })\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\n    }\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n  openModal = (e) => {\n    this.setState({ largeImg: e.target.dataset.source });\n    this.toggleModal();\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, status, showModal, largeImg } = this.state;\n    return (\n      <div className={s.box}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {status === Status.RESOLVED && images.length !== 0 && (\n          <>\n            <ImageGallery images={images} openModal={this.openModal} />\n            {images.length > 12 && <Loaders />}\n            {images.length > 24 && <Loaders />}\n            {images.length > 36 && <Loaders />}\n            {images.length > 48 && <Loaders />}\n            {images.length > 60 && <Loaders />}\n            {images.length > 72 && <Loaders />}\n            {images.length > 84 && <Loaders />}\n            {images.length > 96 && <Loaders />}\n            {images.length > 108 && <Loaders />}\n            {images.length > 120 && <Loaders />}\n          </>\n        )}\n        {showModal && <Modal onClose={this.toggleModal} src={largeImg} />}\n        {status === Status.PENDING && images.length === 0 && <Loaders />}\n        {status === Status.REJECTED && <h2>The request failed</h2>}\n        {status === Status.RESOLVED && images.length !== 0 && (\n          <Button onClick={this.onPageClick} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalBackdrop\":\"Modal_ModalBackdrop__1uPBN\",\"ModalContent\":\"Modal_ModalContent__qxUkA\",\"imgpoz\":\"Modal_imgpoz__31DjX\"};"],"sourceRoot":""}